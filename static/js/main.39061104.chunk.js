(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{135:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg=="},137:function(e,a,t){e.exports=t(300)},300:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(54),c=t.n(o),l=(t(142),t(24)),s=t(10),i=t(22),u="UPDATE_TODOS",d="UPDATE_TODO",m="SET_UPDATE_ID",p="SET_UP_ERROR",h="access_token",E="refresh_token",f=(t(149),t(59)),g=t.n(f),y=g.a.create();y.interceptors.response.use(function(e){return e},function(e){if(401===e.response.status){var a=localStorage.getItem(E);return g.a.post("".concat("https://to-do-do.herokuapp.com/","/user/tokens/refresh"),JSON.stringify(a),{headers:{"Content-Type":"application/json"}}).then(function(a){return localStorage.setItem(h,a.data.tokens.accessToken),localStorage.setItem(E,a.data.tokens.refreshToken),e.config.headers.Authorization="Bearer ".concat(localStorage.getItem(h)),g.a.request(e.config)})}return Promise.reject(e)});var w=y,b="https://to-do-do.herokuapp.com/";function v(e){return{type:p,payload:{title:e.title,status:e.status,detail:e.detail,occurred:!0}}}function A(e){return{type:u,payload:{todos:e}}}function k(e,a,t){var n=localStorage.getItem(h),r={Authorization:"Bearer ".concat(n)};return function(n){return w.put("".concat(b,"/todos/").concat(a),e,{headers:r}).then(function(e){var a;n((a=e.data,{type:d,payload:{todo:a}}))}).catch(function(e){n(v(e.response.data)),t("/Error")})}}var S=t(9),I=t(301),j=t(302),T=t(303),D=t(304),R=t(305),O=t(306),P=t(307),N=t(308),B=t(309);var L=Object(i.a)({mapPropsToValues:function(){return{username:"",password:""}},handleSubmit:function(e,a){var t=a.props,n={username:e.username,password:e.password};t.dispatch(function(e,a){return function(t){return w.post("".concat(b,"/user/login"),{UserName:e.username,Password:e.password}).then(function(e){localStorage.setItem(h,e.data.tokens.accessToken),localStorage.setItem(E,e.data.tokens.refreshToken),a("/")}).catch(function(e){t(v(e.response.data)),a("/Error")})}}(n,t.redirect))},validationSchema:S.object().shape({username:S.string().required(),password:S.string().required()})})(function(e){var a=e.handleChange,t=e.handleSubmit,n=e.values,o=e.handleHome,c=e.handleRegister,l=e.errors,s=e.touched;return r.a.createElement("div",null,r.a.createElement(I.a,null,"ToDoList App",r.a.createElement(j.a,{color:"primary",onClick:o},"Home")),r.a.createElement(T.a,null,r.a.createElement("h1",null,r.a.createElement(D.a,{color:"primary"},"Login page")),r.a.createElement(R.a,{onSubmit:t},r.a.createElement(O.a,null,r.a.createElement(P.a,{for:"username"},"Username"),r.a.createElement(N.a,{type:"username",name:"username",placeholder:"Username",value:n.username,onChange:a}),l.username&&s.username&&r.a.createElement(B.a,{color:"danger"},l.username)),r.a.createElement(O.a,null,r.a.createElement(P.a,{for:"password"},"Password"),r.a.createElement(N.a,{type:"password",name:"password",placeholder:"Password",value:n.password,onChange:a}),l.password&&s.password&&r.a.createElement(B.a,{color:"danger"},l.password)),r.a.createElement(O.a,null,r.a.createElement(j.a,{type:"submit"},"Login"))),r.a.createElement(j.a,{color:"success",onClick:c},"Register")))});var M=Object(s.b)()(Object(l.f)(function(e){return r.a.createElement(L,{redirect:e.history.push,dispatch:e.dispatch,handleHome:function(){e.history.push("/")},handleRegister:function(){e.history.push("/Register")}})})),C=t(11);var J=Object(i.a)({mapPropsToValues:function(){return{username:"",email:"",password:"",confirmPassword:""}},handleSubmit:function(e,a){var t=a.props,n={username:e.username,email:e.email,password:e.password,confirmPassword:e.confirmPassword};t.dispatch(function(e,a){return function(t){return w.post("".concat(b,"/user/register"),{UserName:e.username,Email:e.email,Password:e.password,ConfirmPassword:e.confirmPassword}).then(function(){a("/RegisterSuccess")}).catch(function(e){t(v(e.response.data)),a("/Error")})}}(n,t.redirect))},validationSchema:S.object().shape({username:S.string().required("Username is required"),email:S.string().email().required(),password:S.string().required("Password is required"),confirmPassword:S.string().required("Password confirmation is required").oneOf([S.ref("password"),null],"Passwords do not match")})})(function(e){var a=e.handleHome,t=e.handleSubmit,n=e.handleChange,o=e.values,c=e.errors,l=e.touched;return r.a.createElement("div",null,r.a.createElement(I.a,null,"ToDoList App",r.a.createElement(j.a,{color:"primary",onClick:a},"Home")),r.a.createElement(T.a,null,r.a.createElement("h1",null,r.a.createElement(D.a,{color:"primary"},"Register page")),r.a.createElement(R.a,{onSubmit:t},r.a.createElement(O.a,null,r.a.createElement(P.a,{for:"username"},"Username"),r.a.createElement(N.a,{type:"username",name:"username",placeholder:"Username",value:o.username,onChange:n}),c.username&&l.username&&r.a.createElement(B.a,{color:"danger"},c.username)),r.a.createElement(O.a,null,r.a.createElement(P.a,{for:"email"},"Email"),r.a.createElement(N.a,{type:"email",name:"email",placeholder:"Email",value:o.email,onChange:n}),c.email&&l.email&&r.a.createElement(B.a,{color:"danger"},c.email)),r.a.createElement(O.a,null,r.a.createElement(P.a,{for:"password"},"Password"),r.a.createElement(N.a,{type:"password",name:"password",placeholder:"Password",value:o.password,onChange:n}),c.password&&l.password&&r.a.createElement(B.a,{color:"danger"},c.password),c.confirmPassword&&l.confirmPassword&&l.password&&r.a.createElement(B.a,{color:"danger"},c.confirmPassword)),r.a.createElement(O.a,null,r.a.createElement(P.a,{for:"confirmPassword"},"Confirm password"),r.a.createElement(N.a,{type:"password",name:"confirmPassword",placeholder:"Confirm password",value:o.confirmPassword,onChange:n}),c.confirmPassword&&l.confirmPassword&&r.a.createElement(B.a,{color:"danger"},c.confirmPassword)),r.a.createElement(O.a,null,r.a.createElement(j.a,{type:"submit",color:"success"},"Register")))))});var Z=Object(s.b)()(Object(l.f)(function(e){return r.a.createElement(J,{handleHome:function(){e.history.push("/")},dispatch:e.dispatch,redirect:e.history.push})})),U=t(310),W=t(311);function H(e){return r.a.createElement("div",null,r.a.createElement(I.a,null,"ToDoList App",r.a.createElement(U.a,{className:"ml-auto"},r.a.createElement(W.a,null,r.a.createElement(j.a,{color:"primary",onClick:e.handleHome},"Home")," ",r.a.createElement(j.a,{color:"primary",onClick:e.handleLogout},"Log out")))))}function Y(e){return r.a.createElement("div",null,r.a.createElement(I.a,null,"ToDoList App",r.a.createElement(U.a,{className:"ml-auto",navbar:!0},r.a.createElement(W.a,null,r.a.createElement(j.a,{color:"primary",onClick:e.handleLogin},"Log in")," "," ",r.a.createElement(j.a,{color:"success",onClick:e.handleRegister},"Register")))))}var G=Object(s.b)()(Object(l.f)(function(e){return null!==localStorage.getItem(h)?r.a.createElement(H,{handleHome:function(){e.history.push("/")},handleLogout:function(){var a;e.dispatch((a=e.history.push,function(e){var t=localStorage.getItem(E),n=localStorage.getItem(h),r={Authorization:"Bearer ".concat(n),"Content-Type":"application/json"};return w.post("".concat(b,"/user/tokens/revoke"),JSON.stringify(t),{headers:r}).then(function(e){localStorage.removeItem(h),localStorage.removeItem(E),a("/")}).catch(function(t){e(v(t.response.data)),a("/Error")})}))}}):r.a.createElement(Y,{handleLogin:function(){e.history.push("/Login")},handleRegister:function(){e.history.push("/Register")}})}));function z(e){var a=e.handleSubmit,t=e.handleChange,n=e.values,o=e.errors,c=e.touched;return r.a.createElement("div",null,r.a.createElement(G,null),r.a.createElement(T.a,null,r.a.createElement(R.a,{onSubmit:a},r.a.createElement(O.a,null,r.a.createElement(P.a,{for:"task"},"Task"),r.a.createElement(N.a,{type:"text",name:"task",placeholder:"Task",value:n.task,onChange:t}),o.task&&c.task&&r.a.createElement(B.a,{color:"danger"},o.task)),r.a.createElement(O.a,null,r.a.createElement(P.a,{for:"date"},"Date"),r.a.createElement(N.a,{type:"datetime-local",name:"date",value:n.date,onChange:t}),o.date&&c.date&&r.a.createElement(B.a,{color:"danger"},o.date)),r.a.createElement(O.a,null,r.a.createElement(N.a,{type:"submit",value:"Submit"})))))}var Q=Object(i.a)({mapPropsToValues:function(){return{task:"",date:""}},handleSubmit:function(e,a){var t=a.props,n=new Date(e.date).toJSON(),r={task:e.task,date:n};t.dispatch(function(e,a){var t=localStorage.getItem(h),n={Authorization:"Bearer ".concat(t)};return function(t){return w.post("".concat(b,"/todos"),e,{headers:n}).then(function(e){t(A(e.data))}).catch(function(e){t(v(e.response.data)),a("/Error")})}}(r,t.redirect)),t.redirect("/")},validationSchema:S.object().shape({task:S.string().required("Task is required"),date:S.date().required("Date is required")})})(z);var X=Object(s.b)()(Object(l.f)(function(e){return Object(n.useEffect)(function(){localStorage.getItem(h)||e.history.push("/Login")},e),r.a.createElement(Q,{dispatch:e.dispatch,redirect:e.history.push})})),x=t(312),V=t(135),q=t.n(V);function F(e){return r.a.createElement(x.a,null,r.a.createElement("h1",{className:"display-3"},"Welcome to ToDoList App"),r.a.createElement("p",{className:"lead"},"Simple ToDoList app I made in order to learn basics of frontend web development"),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("p",{className:"lead"},r.a.createElement(j.a,{color:"primary",onClick:e.handleLogIn},"Log in")),r.a.createElement("p",{className:"lead"},r.a.createElement(j.a,{color:"success",onClick:e.handleRegister},"Register")),r.a.createElement("p",{className:"lead"},r.a.createElement("img",{src:q.a})," ",r.a.createElement(j.a,{size:"sm",href:"https://github.com/szymenn/ToDoDo"},"View source")))}var K=t(313);function _(e){return r.a.createElement("tbody",{key:e.index},r.a.createElement("tr",null,r.a.createElement("td",null,e.task),r.a.createElement("td",null,e.date),r.a.createElement("th",null,r.a.createElement(j.a,{color:"secondary",onClick:function(a){e.handleEdit(e.id)}},"Edit")),r.a.createElement("th",null,r.a.createElement(j.a,{color:"danger",onClick:function(a){e.handleDelete(e.id)}},"Delete"))))}function $(e){var a=e.todos.map(function(a,t){var n=new Date(a.date);return r.a.createElement(_,{index:t,task:a.task,date:n.toDateString(),id:a.id,handleDelete:e.handleDelete,handleEdit:e.handleEdit})});return r.a.createElement(K.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Task"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,r.a.createElement(j.a,{color:"success",onClick:e.handleAdd},"Add")))),a)}var ee=Object(s.b)(function(e){return{todos:e.todos.todos}})(Object(l.f)(function(e){return Object(n.useEffect)(function(){null!==localStorage.getItem(h)&&0===e.todos.length&&e.dispatch(function(e){var a=localStorage.getItem(h);return function(t){return w.get("".concat(b,"/todos"),{headers:{Authorization:"Bearer ".concat(a)}}).then(function(e){t(A(e.data))}).catch(function(a){t(v(a.response.data)),e("/Error")})}}())},e),null!==localStorage.getItem(h)?r.a.createElement($,{todos:e.todos,handleDelete:function(a){e.dispatch(function(e,a){var t=localStorage.getItem(h);return function(n){return w.delete("".concat(b,"/todos/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then(function(e){n(A(e.data))}).catch(function(e){n(v(e.response.data)),a("/Error")})}}(a),e.history.push),e.history.push("/")},handleAdd:function(){e.history.push("/Add")},handleEdit:function(a){e.dispatch(function(e){return{type:m,payload:{id:e}}}(a)),e.history.push("/Edit")}}):r.a.createElement(F,{handleLogIn:function(){e.history.push("/Login")},handleRegister:function(){e.history.push("/Register")}})}));var ae=Object(l.f)(function(e){return r.a.createElement("div",null,r.a.createElement(G,null),r.a.createElement(ee,null))}),te=Object(i.a)({mapPropsToValues:function(e){return{task:e.task||"",date:e.date||null}},handleSubmit:function(e,a){var t=a.props,n=new Date(e.date).toJSON(),r={task:e.task,date:n};t.dispatch(k(r,t.id,t.redirect)),t.redirect("/")},validationSchema:S.object().shape({task:S.string(),date:S.date()})})(z);var ne=Object(s.b)(function(e){return{id:e.ids.updateId,todos:e.todos.todos}})(Object(l.f)(function(e){Object(n.useEffect)(function(){localStorage.getItem(h)||e.history.push("/Login")},e);var a=e.todos.find(function(a){return a.id===e.id});return r.a.createElement(te,{dispatch:e.dispatch,redirect:e.history.push,id:e.id,task:a.task,date:a.date})}));var re=Object(s.b)(function(e){return{title:e.error.title,status:e.error.status,detail:e.error.detail,occurred:e.occurred}})(Object(l.f)(function(e){return r.a.createElement(x.a,null,r.a.createElement("h1",null,"Oops, Something went wrong : ("),r.a.createElement("h1",{className:"display-3"},e.status),r.a.createElement("p",{className:"lead"},e.title),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("p",null,e.detail),r.a.createElement("p",{className:"lead"},r.a.createElement(j.a,{color:"primary",onClick:function(){e.history.push("/")}},"Back Home")))}));var oe=Object(l.f)(function(e){return r.a.createElement(x.a,null,r.a.createElement("h1",null,"Thank you for registering, please verify your email"),r.a.createElement("p",{className:"lead"},r.a.createElement(j.a,{color:"primary",onClick:function(){e.history.push("/")}},"Home")))});var ce=Object(l.f)(function(e){return r.a.createElement(x.a,null,r.a.createElement("h1",null,"Email verification successful"),r.a.createElement("p",{className:"lead"},r.a.createElement(j.a,{color:"primary",onClick:function(){e.history.push("/Login")}},"Login")),r.a.createElement("p",{className:"lead"},r.a.createElement(j.a,{color:"primary",onClick:function(){e.history.push("/")}},"Home")))});var le=Object(l.f)(function(e){return r.a.createElement(C.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/Login",component:M}),r.a.createElement(l.a,{path:"/Register",component:Z}),r.a.createElement(l.a,{path:"/Add",component:X}),r.a.createElement(l.a,{path:"/Edit",component:ne}),r.a.createElement(l.a,{path:"/Error",component:re}),r.a.createElement(l.a,{path:"/VerificationSuccess",component:ce}),r.a.createElement(l.a,{path:"/RegisterSuccess",component:oe}),r.a.createElement(l.a,{path:"/",component:ae})))}),se=t(30),ie={todos:[]},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case u:return Object.assign({},e,{todos:a.payload.todos});case d:return Object.assign({},e,{todos:e.todos.map(function(e,t){return e.id===a.payload.todo.id?Object.assign({},e,{task:a.payload.todo.task,date:a.payload.todo.date,id:a.payload.todo.id}):e})});default:return e}},de={updateId:""},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case m:return{updateId:a.payload.id};default:return e}},pe={title:"",status:null,detail:"",occurred:!1},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p:return Object.assign({},e,{title:a.payload.title,status:a.payload.status,detail:a.payload.detail,occurred:a.payload.occurred});default:return e}},Ee=Object(se.c)({ids:me,todos:ue,error:he}),fe=t(136),ge=Object(se.a)(fe.a),ye=Object(se.d)(Ee,ge),we=document.getElementById("root");c.a.render(r.a.createElement(s.a,{store:ye},r.a.createElement(C.a,null,r.a.createElement(le,null))),we)}},[[137,1,2]]]);
//# sourceMappingURL=main.39061104.chunk.js.map